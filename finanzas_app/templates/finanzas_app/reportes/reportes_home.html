{% extends 'finanzas_app/base_finanzas.html' %}

{% block title %}Reportes · Finanzas{% endblock %}

{% block finanzas_content %}

<div class="o-reports-page">

    <!-- Breadcrumb -->
    <nav class="o-breadcrumb">
        <a href="{% url 'finanzas_app:dashboard' %}">Finanzas</a>
        <span class="o-breadcrumb-sep">/</span>
        <span class="o-breadcrumb-current">Reportes</span>
    </nav>

    <!-- Header -->
    <header class="o-page-header">
        <h1 class="o-page-title">Centro de Reportes</h1>
        <p class="o-page-subtitle">
            Analiza el estado de tus finanzas con herramientas visuales de ingresos, egresos y balances.
        </p>
    </header>

    <!-- ============================================
         REPORTES GENERALES (MISMO ESTILO QUE CxP)
    ============================================ -->
    <div class="reports-section">
        <h2 class="section-title">
            <span class="material-icons">assessment</span>
            Reportes generales
        </h2>

        <div class="reports-grid">

            <!-- Estado de Resultados (NUEVO) -->
            <a href="{% url 'finanzas_app:reporte_estado_resultados' %}" class="report-card">
                <div class="report-icon" style="background: linear-gradient(135deg, #1565c0, #0d47a1);">
                    <span class="material-icons">account_balance</span>
                </div>
                <div class="report-info">
                    <h3>Estado de Resultados</h3>
                    <p>Resumen de ingresos vs egresos por período con análisis.</p>
                </div>
                <span class="material-icons arrow">chevron_right</span>
            </a>

            <!-- Resumen Mensual -->
            <a href="{% url 'finanzas_app:reporte_resumen_mensual' %}" class="report-card">
                <div class="report-icon" style="background: linear-gradient(135deg, #714B67, #5c3a52);">
                    <span class="material-icons">analytics</span>
                </div>
                <div class="report-info">
                    <h3>Resumen mensual</h3>
                    <p>Ingresos, egresos y balance neto del mes actual.</p>
                </div>
                <span class="material-icons arrow">chevron_right</span>
            </a>

            <!-- Resumen por Cuenta -->
            <a href="{% url 'finanzas_app:reporte_resumen_por_cuenta' %}" class="report-card">
                <div class="report-icon" style="background: linear-gradient(135deg, #2e7d32, #1b5e20);">
                    <span class="material-icons">account_balance_wallet</span>
                </div>
                <div class="report-info">
                    <h3>Resumen por cuenta</h3>
                    <p>Desglose detallado de saldos agrupados por cada cuenta.</p>
                </div>
                <span class="material-icons arrow">chevron_right</span>
            </a>

            <!-- Listado de Movimientos -->
            <a href="{% url 'finanzas_app:movimientos_listado' %}" class="report-card">
                <div class="report-icon" style="background: linear-gradient(135deg, #17a2b8, #0f6f7d);">
                    <span class="material-icons">print</span>
                </div>
                <div class="report-info">
                    <h3>Listado de movimientos</h3>
                    <p>Filtros avanzados para exportar o imprimir historiales.</p>
                </div>
                <span class="material-icons arrow">chevron_right</span>
            </a>

            <!-- Resumen por Categoría -->
            <a href="{% url 'finanzas_app:reporte_resumen_por_categoria' %}" class="report-card">
                <div class="report-icon" style="background: linear-gradient(135deg, #fd7e14, #d95f00);">
                    <span class="material-icons">category</span>
                </div>
                <div class="report-info">
                    <h3>Resumen por categoría</h3>
                    <p>Totales de ingresos y egresos agrupados por categoría.</p>
                </div>
                <span class="material-icons arrow">chevron_right</span>
            </a>

            <!-- Movimientos Anulados -->
            <a href="{% url 'finanzas_app:reporte_movimientos_anulados' %}" class="report-card">
                <div class="report-icon" style="background: linear-gradient(135deg, #dc3545, #b71c1c);">
                    <span class="material-icons">gpp_maybe</span>
                </div>
                <div class="report-info">
                    <h3>Movimientos anulados</h3>
                    <p>Auditoría: anulaciones, usuario, fecha y motivo.</p>
                </div>
                <span class="material-icons arrow">chevron_right</span>
            </a>

            <!-- Transferencias -->
            <a href="{% url 'finanzas_app:reporte_transferencias' %}" class="report-card">
                <div class="report-icon" style="background: linear-gradient(135deg, #6c757d, #495057);">
                    <span class="material-icons">compare_arrows</span>
                </div>
                <div class="report-info">
                    <h3>Transferencias</h3>
                    <p>Auditoría de transferencias entre cuentas.</p>
                </div>
                <span class="material-icons arrow">chevron_right</span>
            </a>

            <!-- Próximamente -->
            <div class="report-card" style="opacity:.6; cursor:not-allowed;">
                <div class="report-icon" style="background: linear-gradient(135deg, #adb5bd, #6c757d);">
                    <span class="material-icons">update</span>
                </div>
                <div class="report-info">
                    <h3>Más reportes</h3>
                    <p>Categorías, auditoría y flujos proyectados en desarrollo.</p>
                </div>
                <span class="material-icons arrow">lock</span>
            </div>

        </div>
    </div>

    <!-- ============================================
         CxP (TU BLOQUE TAL CUAL)
         OJO: asegúrate que el include apunte al nombre real del archivo
    ============================================ -->
    {% include 'finanzas_app/reportes/reportes_home_cxp_cards.html' %}

</div>

{% endblock %}