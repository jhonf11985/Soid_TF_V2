{% extends 'core/base_sidebar.html' %}
{% load static %}

{% block sidebar_icon %}sync{% endblock %}
{% block sidebar_role_label %}Actualización{% endblock %}

{% block sidebar_menu %}
<nav class="sidebar-nav">

  <a href="{% url 'actualizacion_datos_miembros:solicitudes_lista' %}"
     class="sidebar-link {% if request.resolver_match.url_name == 'solicitudes_lista' %}active{% endif %}">
    <span class="material-icons">inbox</span>
    <span>Solicitudes</span>
  </a>

  <div class="sidebar-section-title">Gestión</div>

  <a href="{% url 'actualizacion_datos_miembros:solicitudes_lista' %}?estado={{ Estados.PENDIENTE }}"
     class="sidebar-link">
    <span class="material-icons">schedule</span>
    <span>Pendientes</span>
  </a>

  <a href="{% url 'actualizacion_datos_miembros:solicitudes_lista' %}?estado={{ Estados.APLICADA }}"
     class="sidebar-link">
    <span class="material-icons">task_alt</span>
    <span>Aplicadas</span>
  </a>

  <a href="{% url 'actualizacion_datos_miembros:solicitudes_lista' %}?estado={{ Estados.RECHAZADA }}"
     class="sidebar-link">
    <span class="material-icons">cancel</span>
    <span>Rechazadas</span>
  </a>

  <!-- =====================================
       NUEVO: ALTAS (REGISTRO MASIVO)
       ===================================== -->
  <div class="sidebar-section-title">Altas</div>

  <a href="{% url 'actualizacion_datos_miembros:altas_lista' %}"
     class="sidebar-link {% if request.resolver_match.url_name == 'altas_lista' %}active{% endif %}">
    <span class="material-icons">person_add</span>
    <span>Solicitudes de alta</span>
  </a>

  <a href="{% url 'actualizacion_datos_miembros:altas_lista' %}?estado={{ EstadosAlta.PENDIENTE }}"
     class="sidebar-link">
    <span class="material-icons">schedule</span>
    <span>Altas pendientes</span>
  </a>

  <a href="{% url 'actualizacion_datos_miembros:altas_lista' %}?estado={{ EstadosAlta.APROBADA }}"
     class="sidebar-link">
    <span class="material-icons">task_alt</span>
    <span>Altas aprobadas</span>
  </a>

  <a href="{% url 'actualizacion_datos_miembros:altas_lista' %}?estado={{ EstadosAlta.RECHAZADA }}"
     class="sidebar-link">
    <span class="material-icons">cancel</span>
    <span>Altas rechazadas</span>
  </a>

  <div class="sidebar-section-title">Atajos</div>

  <a href="{% url 'miembros_app:lista' %}" class="sidebar-link">
    <span class="material-icons">group</span>
    <span>Miembros</span>
  </a>

</nav>
{% endblock %}

{% block page_content %}
  {% if messages %}
    <div class="messages-container">
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  {% block actualizacion_content %}{% endblock %}
{% endblock %}
