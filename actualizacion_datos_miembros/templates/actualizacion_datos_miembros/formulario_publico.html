<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Actualizar mis datos</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;background:#f6f7fb;color:#111}
    .wrap{max-width:720px;margin:0 auto;padding:18px}
    .card{background:#fff;border:1px solid #e6e8ef;border-radius:14px;padding:16px;box-shadow:0 6px 16px rgba(0,0,0,.05)}
    .title{font-size:18px;font-weight:700;margin:0 0 6px}
    .sub{color:#667085;margin:0 0 14px;font-size:13px}
    .badge{display:inline-block;font-size:12px;padding:4px 10px;border-radius:999px;background:#f1f5ff;border:1px solid #dbe5ff;color:#274690}
    .grid{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:720px){.grid.two{grid-template-columns:1fr 1fr}}
    label{display:block;font-size:12px;color:#475467;margin:0 0 4px}
    input,textarea,select{width:100%;padding:10px 12px;border:1px solid #d0d5dd;border-radius:10px;font-size:14px}
    textarea{resize:vertical}
    .ro{background:#f8fafc}
    .actions{display:flex;gap:10px;margin-top:14px}
    .btn{border:0;border-radius:10px;padding:11px 14px;font-weight:700;cursor:pointer}
    .btn-primary{background:#111;color:#fff}
    .msg{padding:10px 12px;border-radius:10px;background:#fff7ed;border:1px solid #fed7aa;color:#9a3412;margin:12px 0}
    .err{color:#b42318;font-size:12px;margin-top:4px}
    .help{font-size:12px;color:#667085;margin-top:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="badge">Iglesia Torre Fuerte</div>
      <h1 class="title">Actualizar mis datos</h1>
      <p class="sub">
        Estos cambios quedarán <b>pendientes</b> para revisión antes de aplicarse.
      </p>

      <div class="msg">
        <b>Miembro:</b> {{ miembro.nombres }} {{ miembro.apellidos }}
        {% if miembro.codigo %} · <b>Código:</b> {{ miembro.codigo }}{% endif %}
      </div>

      <form method="post" novalidate>
        {% csrf_token %}

        <h3 style="margin:14px 0 8px">Contacto</h3>
        <div class="grid two">
          <div>
            <label>Teléfono</label>
            {{ form.telefono }}
            {% if form.telefono.errors %}<div class="err">{{ form.telefono.errors|striptags }}</div>{% endif %}
          </div>
          <div>
            <label>WhatsApp</label>
            {{ form.whatsapp }}
            {% if form.whatsapp.errors %}<div class="err">{{ form.whatsapp.errors|striptags }}</div>{% endif %}
          </div>
          <div style="grid-column:1/-1">
            <label>Email</label>
            {{ form.email }}
            {% if form.email.errors %}<div class="err">{{ form.email.errors|striptags }}</div>{% endif %}
          </div>
          <div style="grid-column:1/-1">
            <label>Dirección</label>
            {{ form.direccion }}
          </div>
          <div>
            <label>Sector</label>
            {{ form.sector }}
          </div>
          <div>
            <label>Ciudad</label>
            {{ form.ciudad }}
          </div>
          <div>
            <label>Provincia</label>
            {{ form.provincia }}
          </div>
          <div>
            <label>Código postal</label>
            {{ form.codigo_postal }}
          </div>
        </div>

        <h3 style="margin:16px 0 8px">Trabajo (opcional)</h3>
        <div class="grid two">
          <div>
            <label>Empleador</label>
            {{ form.empleador }}
          </div>
          <div>
            <label>Puesto</label>
            {{ form.puesto }}
          </div>
          <div>
            <label>Teléfono trabajo</label>
            {{ form.telefono_trabajo }}
          </div>
          <div style="grid-column:1/-1">
            <label>Dirección trabajo</label>
            {{ form.direccion_trabajo }}
          </div>
        </div>

        <h3 style="margin:16px 0 8px">Emergencia</h3>
        <div class="grid two">
          <div>
            <label>Contacto de emergencia</label>
            {{ form.contacto_emergencia_nombre }}
          </div>
          <div>
            <label>Teléfono emergencia</label>
            {{ form.contacto_emergencia_telefono }}
          </div>
          <div style="grid-column:1/-1">
            <label>Relación</label>
            {{ form.contacto_emergencia_relacion }}
          </div>
        </div>

        <h3 style="margin:16px 0 8px">Salud (opcional)</h3>
        <div class="grid two">
          <div>
            <label>Tipo de sangre</label>
            {{ form.tipo_sangre }}
          </div>
          <div></div>
          <div style="grid-column:1/-1">
            <label>Alergias</label>
            {{ form.alergias }}
          </div>
          <div style="grid-column:1/-1">
            <label>Condiciones médicas</label>
            {{ form.condiciones_medicas }}
          </div>
          <div style="grid-column:1/-1">
            <label>Medicamentos</label>
            {{ form.medicamentos }}
          </div>
        </div>

        <div class="help">
          Al enviar, tus datos se enviarán a la administración para revisión.
        </div>

        <div class="actions">
          <button class="btn btn-primary" type="submit">Enviar actualización</button>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
