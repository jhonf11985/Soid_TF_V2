{% extends 'estructura_app/base_estructura.html' %}
{% load static %}

{% block title %}Roles · Estructura{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/estructura.css' %}">
<style>
  .page{max-width:1100px;margin:0 auto;padding:14px}
  .top{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:12px}
  .title{margin:0;font-size:18px;font-weight:900}
  .btn{border:none;border-radius:12px;padding:10px 14px;font-weight:900;cursor:pointer}
  .btn-primary{background:rgba(0,0,0,.88);color:#fff;text-decoration:none}
  .table{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:16px;overflow:hidden;box-shadow:0 10px 28px rgba(0,0,0,.06)}
  table{width:100%;border-collapse:collapse}
  th,td{padding:11px 12px;border-bottom:1px solid rgba(0,0,0,.06);text-align:left;font-size:13px}
  th{font-size:12px;color:rgba(0,0,0,.62);background:rgba(0,0,0,.02);font-weight:900}
  tr:last-child td{border-bottom:none}
  .pill{padding:4px 10px;border-radius:999px;font-size:12px;font-weight:900;border:1px solid rgba(0,0,0,.10);background:#fff;color:rgba(0,0,0,.72)}
</style>
{% endblock %}

{% block estructura_content %}
<div class="page">
  <div class="top">
    <h1 class="title">Roles</h1>
    <a class="btn btn-primary" href="{% url 'estructura_app:rol_crear' %}">Nuevo rol</a>
  </div>

  <div class="table">
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th style="width:220px;">Tipo</th>
          <th style="width:110px;">Activo</th>
          <th style="width:110px;">Orden</th>
        </tr>
      </thead>
      <tbody>
        {% for r in roles %}
          <tr>
            <td>{{ r.nombre }}</td>
            <td><span class="pill">{{ r.get_tipo_display }}</span></td>
            <td>{{ r.activo|yesno:"Sí,No" }}</td>
            <td>{{ r.orden }}</td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="4">No hay roles creados todavía.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
