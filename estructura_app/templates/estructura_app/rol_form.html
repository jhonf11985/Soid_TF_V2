{% extends 'estructura_app/base_estructura.html' %}
{% load static %}

{% block title %}Nuevo rol · Estructura{% endblock %}

{% block estructura_content %}

<form method="post" class="odoo-form">
  {% csrf_token %}

  <!-- ═══════════════════════════════════════
       BARRA SUPERIOR (Control Bar)
       ═══════════════════════════════════════ -->
  <div class="odoo-control-bar">
    <div class="odoo-control-left">
      <a href="{% url 'estructura_app:rol_listado' %}" class="odoo-breadcrumb-link">
        <span class="material-icons">arrow_back</span>
        Roles
      </a>
      <span class="odoo-breadcrumb-sep">/</span>
<span class="odoo-breadcrumb-current">{% if modo == 'editar' %}Editar{% else %}Nuevo{% endif %}</span>
<span class="odoo-new-badge">{% if modo == 'editar' %}Editar{% else %}Nuevo{% endif %}</span>

    </div>

    <div class="odoo-control-right">
      <div class="odoo-member-code">
        <span class="material-icons">badge</span>
        Rol
      </div>
    </div>
  </div>

  <!-- ═══════════════════════════════════════
       CONTENEDOR PRINCIPAL
       ═══════════════════════════════════════ -->
  <div class="odoo-form-container">

    <!-- ÁREA PRINCIPAL -->
    <div class="odoo-form-main">

      <!-- HEADER -->
      <div class="odoo-form-header">

        <div class="odoo-avatar-section">
          <div class="odoo-avatar odoo-avatar-unit">
            <span class="material-icons">badge</span>
          </div>
        </div>

        <div class="odoo-header-info">

          <!-- Nombre grande -->
          <div class="odoo-name-field">
            <input type="text"
                   name="nombre"
                   id="{{ form.nombre.id_for_label }}"
                   value="{{ form.nombre.value|default:'' }}"
                   placeholder="Ej: Líder, Sub-líder, Miembro, Colaborador"
                   class="odoo-name-input"
                   required>
          </div>

          <!-- Campos rápidos (EN LÍNEAS) -->
          <div class="odoo-quick-fields">

            <div class="odoo-quick-field">
              <span class="material-icons">schema</span>
              {{ form.tipo }}
            </div>

            <div class="odoo-quick-field">
              <span class="material-icons">military_tech</span>
              {{ form.liderazgo }}
            </div>

            <div class="odoo-quick-field">
              <span class="material-icons">sort</span>
              {{ form.orden }}
            </div>

          </div>

        </div>
      </div>

      <!-- BODY (DOS COLUMNAS, CAMPOS EN LÍNEA) -->
      <div class="odoo-form-body">

        <!-- Columna izquierda -->
        <div class="odoo-form-column">
          <div class="odoo-field">
            <label class="odoo-label">Descripción</label>
            <input type="text"
                   name="descripcion"
                   id="{{ form.descripcion.id_for_label }}"
                   value="{{ form.descripcion.value|default:'' }}"
                   placeholder="Descripción breve del rol (opcional)"
                   class="odoo-input">
          </div>
        </div>

        <!-- Columna derecha -->
        <div class="odoo-form-column">
          <div class="odoo-field odoo-field-checkbox">
            <label class="odoo-checkbox-label">
              {{ form.activo }}
              <span>Rol activo</span>
            </label>
          </div>
        </div>

      </div>
    </div>

    <!-- PANEL LATERAL -->
    <div class="odoo-form-aside">

      <div class="odoo-aside-actions">
        <button type="submit" class="odoo-btn odoo-btn-primary">
          <span class="material-icons">check</span>
          Guardar
        </button>

        <a href="{% url 'estructura_app:rol_listado' %}" class="odoo-btn odoo-btn-secondary">
          Descartar
        </a>
      </div>

      <div class="odoo-aside-info">
        <div class="odoo-info-item">
          <span class="odoo-info-label">Estado</span>
          <span class="odoo-info-badge">Activo</span>
        </div>
      </div>

      <div class="odoo-aside-tips">
        <h4 class="odoo-aside-title">Consejos</h4>
        <ul class="odoo-tips-list">
          <li>“Liderazgo” se usa para cargos (UnidadCargo).</li>
          <li>Participación/Trabajo se usa para membresías (UnidadMembresia).</li>
          <li>El orden define prioridad en listados.</li>
        </ul>
      </div>

    </div>
  </div>
</form>

{% endblock %}
