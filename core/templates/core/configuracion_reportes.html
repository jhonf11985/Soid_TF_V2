{% extends 'core/base.html' %}

{% block title %}Parámetros de reportes · Soid_Tf_2{% endblock %}

{% block breadcrumb %}
Configuración / Parámetros de reportes
{% endblock %}

{% block content %}

<section class="page-header">
    <div>
        <h1 class="page-title">Parámetros de membresía y reportes</h1>
        <p class="page-subtitle">
            Ajustes que afectan la lógica de miembros, el formato de fechas, el estilo de los documentos y el envío de correos.
        </p>
    </div>
</section>

<section class="page-section">
    <form method="post" class="form-grid">
        {% csrf_token %}

        <!-- Membresía y lógica -->
        <div class="form-field">
            <label for="{{ form.edad_minima_miembro_oficial.id_for_label }}">
                Edad mínima miembro oficial
            </label>
            {{ form.edad_minima_miembro_oficial }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Se usará en la lógica de miembros oficiales / bautizables y en los reportes relacionados.
            </p>
        </div>
        <div class="form-group">
            <label for="id_codigo_miembro_prefijo">Prefijo para código de miembro</label>
            {{ form.codigo_miembro_prefijo }}
            <small style="color:#666;">
                Ejemplo: TF- producirá códigos como TF-0001, TF-0002...
            </small>
        </div>


        <div class="form-field">
            <label for="{{ form.zona_horaria.id_for_label }}">Zona horaria</label>
            {{ form.zona_horaria }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Ejemplo: <strong>America/Santo_Domingo</strong>.
            </p>
        </div>

        <div class="form-field">
            <label for="{{ form.formato_fecha_corta.id_for_label }}">Formato fecha corta</label>
            {{ form.formato_fecha_corta }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Ejemplo sugerido: <strong>DD/MM/YYYY</strong>.
            </p>
        </div>

        <div class="form-field form-field-full">
            <label for="{{ form.formato_fecha_larga.id_for_label }}">Formato fecha larga</label>
            {{ form.formato_fecha_larga }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Ejemplo: <strong>25 de noviembre de 2025</strong>.
            </p>
        </div>

        <!-- Colores y estilo -->
        <div class="form-field">
            <label for="{{ form.color_primario.id_for_label }}">Color primario del sistema</label>
            {{ form.color_primario }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Color principal de botones y elementos destacados (hex). Ej: <strong>#0097A7</strong>.
            </p>
        </div>

        <div class="form-field">
            <label for="{{ form.color_secundario.id_for_label }}">Color secundario del sistema</label>
            {{ form.color_secundario }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Color de acento para detalles y resaltes (hex). Ej: <strong>#F59E0B</strong>.
            </p>
        </div>

        <div class="form-field form-field-full">
            <label for="{{ form.modo_impresion.id_for_label }}">Modo de impresión</label>
            {{ form.modo_impresion }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Define el estilo general de cartas, certificados y reportes (formal, minimalista o clásico).
            </p>
        </div>

        <!-- Visibilidad en reportes -->
        <div class="form-field">
            <label for="{{ form.mostrar_logo_en_reportes.id_for_label }}">Logo en reportes</label>
            <div style="display:flex; align-items:center; gap:8px; margin-top:4px;">
                {{ form.mostrar_logo_en_reportes }}
                <span style="font-size:11px; color:#6b7280;">
                    Mostrar el logo institucional en la cabecera de los reportes impresos.
                </span>
            </div>
        </div>

        <div class="form-field">
            <label for="{{ form.mostrar_direccion_en_reportes.id_for_label }}">Dirección en reportes</label>
            <div style="display:flex; align-items:center; gap:8px; margin-top:4px;">
                {{ form.mostrar_direccion_en_reportes }}
                <span style="font-size:11px; color:#6b7280;">
                    Mostrar la dirección de la iglesia debajo del encabezado en los reportes.
                </span>
            </div>
        </div>

        <!-- Pie de cartas -->
        <div class="form-field form-field-full">
            <label for="{{ form.pie_cartas.id_for_label }}">Texto de pie de cartas</label>
            {{ form.pie_cartas }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Se mostrará al final de las cartas de salida, traslados y otros documentos oficiales.
            </p>
        </div>

        <!-- Correo y notificaciones -->
        <div class="form-field form-field-full">
            <h2 style="font-size:14px; font-weight:600; margin-bottom:4px;">
                Envío de correos desde el sistema
            </h2>
            <p style="font-size:11px; color:#6b7280; margin-bottom:8px;">
                Estos datos se utilizarán cuando el sistema envíe correos (fichas, reportes, avisos, etc.).
            </p>
        </div>

        <div class="form-field">
            <label for="{{ form.email_from_name.id_for_label }}">Nombre remitente</label>
            {{ form.email_from_name }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Ejemplo: <strong>Iglesia Torre Fuerte</strong>. Aparecerá como nombre del remitente en los correos.
            </p>
        </div>

        <div class="form-field">
            <label for="{{ form.email_from_address.id_for_label }}">Correo remitente</label>
            {{ form.email_from_address }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Dirección desde la que el sistema enviará correos (debe coincidir con tu configuración SMTP).
            </p>
        </div>

        <div class="form-field form-field-full">
            <label for="{{ form.enviar_copia_a_pastor.id_for_label }}">Copias al pastor</label>
            <div style="display:flex; align-items:center; gap:8px; margin-top:4px;">
                {{ form.enviar_copia_a_pastor }}
                <span style="font-size:11px; color:#6b7280;">
                    Si está marcado, las comunicaciones importantes enviadas por el sistema enviarán copia al
                    <strong>correo del pastor / administración</strong> configurado en la sección General.
                </span>
            </div>
        </div>

        <div class="form-actions" style="justify-content:flex-start;">
            <button type="submit" class="btn-primary">
                <span class="material-icons" style="font-size:16px;">save</span>
                Guardar
            </button>
        </div>
    </form>
</section>

{% endblock %}
