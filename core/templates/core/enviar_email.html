{% extends "core/base.html" %}


{% block title %}
    {{ titulo_pagina|default:"Enviar correo" }}
{% endblock %}

{% block content %}
<div class="container my-4">
    <h1 class="page-title">
        {{ titulo_pagina|default:"Enviar correo" }}
    </h1>

    {% if descripcion %}
        <p class="text-muted mb-2">
            {{ descripcion }}
        </p>
    {% endif %}

    {% if objeto_label %}
        <p class="mb-3">
            <strong>{{ objeto_label }}</strong>
        </p>
    {% endif %}

    <form method="post" enctype="multipart/form-data" class="card p-3">
        {% csrf_token %}

        <div class="mb-3">
            {{ form.destinatario.label_tag }}
            {{ form.destinatario }}
            {% if form.destinatario.help_text %}
                <small class="form-text text-muted">{{ form.destinatario.help_text }}</small>
            {% endif %}
            {% if form.destinatario.errors %}
                <div class="text-danger small">{{ form.destinatario.errors }}</div>
            {% endif %}
        </div>

        <div class="mb-3">
            {{ form.asunto.label_tag }}
            {{ form.asunto }}
            {% if form.asunto.errors %}
                <div class="text-danger small">{{ form.asunto.errors }}</div>
            {% endif %}
        </div>

        <div class="mb-3">
            {{ form.mensaje.label_tag }}
            {{ form.mensaje }}
            {% if form.mensaje.help_text %}
                <small class="form-text text-muted">{{ form.mensaje.help_text }}</small>
            {% endif %}
            {% if form.mensaje.errors %}
                <div class="text-danger small">{{ form.mensaje.errors }}</div>
            {% endif %}
        </div>

        <div class="mb-3">
            {{ form.adjunto.label_tag }}
            {{ form.adjunto }}
            {% if form.adjunto.help_text %}
                <small class="form-text text-muted">{{ form.adjunto.help_text }}</small>
            {% endif %}
            {% if form.adjunto.errors %}
                <div class="text-danger small">{{ form.adjunto.errors }}</div>
            {% endif %}
        </div>

        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">
                Enviar correo
            </button>
            {% if url_cancelar %}
                <a href="{{ url_cancelar }}" class="btn btn-secondary">
                    Cancelar
                </a>
            {% endif %}
        </div>
    </form>
</div>
{% endblock %}
