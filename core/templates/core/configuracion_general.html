{% extends 'core/base.html' %}

{% block title %}Configuración general · Soid_Tf_2{% endblock %}

{% block breadcrumb %}
Configuración / General
{% endblock %}

{% block content %}

<section class="page-header">
    <div>
        <h1 class="page-title">Configuración general</h1>
        <p class="page-subtitle">
            Identidad institucional, denominación y elementos de marca de la iglesia.
        </p>
    </div>
</section>

<section class="page-section">
    <form method="post" enctype="multipart/form-data" class="form-grid">
        {% csrf_token %}

        <!-- Identidad -->
        <div class="form-field form-field-full">
            <label for="{{ form.nombre_iglesia.id_for_label }}">Nombre de la iglesia</label>
            {{ form.nombre_iglesia }}
        </div>

        <div class="form-field">
            <label for="{{ form.nombre_corto.id_for_label }}">Nombre corto</label>
            {{ form.nombre_corto }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Usado en espacios reducidos o en la interfaz móvil.
            </p>
        </div>

        <div class="form-field">
            <label for="{{ form.denominacion.id_for_label }}">Denominación</label>
            {{ form.denominacion }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Ej: Pentecostal, Bautista, Independiente, etc.
            </p>
        </div>

        <div class="form-field form-field-full">
            <label for="{{ form.lema.id_for_label }}">Lema / frase institucional</label>
            {{ form.lema }}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Puede aparecer en cartas, reportes o en la portada del sistema.
            </p>
        </div>

        <div class="form-field form-field-full">
            <label for="{{ form.direccion.id_for_label }}">Dirección</label>
            {{ form.direccion }}
        </div>

        <!-- Logos y marca -->
        <div class="form-field form-field-full">
            <label for="{{ form.logo.id_for_label }}">Logo principal (fondo claro)</label>
            {{ form.logo }}
            {% if CFG.logo %}
                <p style="margin-top:6px; font-size:12px; color:#6b7280;">
                    Logo actual:<br>
                    <img src="{{ CFG.logo.url }}" alt="Logo actual" style="max-height:60px; margin-top:4px;">
                </p>
            {% endif %}
        </div>

        <div class="form-field form-field-full">
            <label for="{{ form.logo_oscuro.id_for_label }}">Logo para fondo oscuro (opcional)</label>
            {{ form.logo_oscuro }}
            {% if CFG.logo_oscuro %}
                <p style="margin-top:6px; font-size:12px; color:#6b7280;">
                    Logo oscuro actual:<br>
                    <img src="{{ CFG.logo_oscuro.url }}" alt="Logo oscuro actual" style="max-height:60px; margin-top:4px;">
                </p>
            {% endif %}
        </div>

        <div class="form-field form-field-full">
            <label for="{{ form.plantilla_pdf_fondo.id_for_label }}">Fondo para PDFs / cartas</label>
            {{ form.plantilla_pdf_fondo }}
            {% if CFG.plantilla_pdf_fondo %}
                <p style="margin-top:6px; font-size:12px; color:#6b7280;">
                    Fondo actual:<br>
                    <img src="{{ CFG.plantilla_pdf_fondo.url }}" alt="Fondo actual" style="max-height:80px; margin-top:4px;">
                </p>
            {% endif %}
            <p style="font-size:11px; color:#6b7280; margin-top:2px;">
                Imagen suave para usar como fondo o marca de agua en documentos PDF.
            </p>
        </div>

        <div class="form-actions" style="justify-content:flex-start;">
            <button type="submit" class="btn-primary">
                <span class="material-icons" style="font-size:16px;">save</span>
                Guardar
            </button>
        </div>
    </form>
</section>

{% endblock %}
