{% extends 'core/base.html' %}

{% block title %}Sistemas de votación · Documentación{% endblock %}

{% block content %}
<div class="sistv-wrapper">
    <div class="sistv-header">
        <h1>Sistemas de votación</h1>
        <p>
            Esta página describe los sistemas de votación disponibles en el módulo
            de elecciones de <strong>Soid_tf_2</strong>. Cada sistema define sus propias
            reglas para determinar ganadores y validar los resultados.
        </p>
    </div>

    <!-- Sistema 1 -->
    <section class="sistv-card" id="sistema-1">
        <div class="sistv-card-tag">La 1</div>
        <h2>Sistema 1 &middot; Mayoría absoluta secuencial (50% + 1)</h2>
        <p class="sistv-intro">
            En este sistema, un candidato solo puede ser electo si alcanza la
            <strong>mayoría absoluta</strong>, es decir, el <strong>50% + 1</strong> de los votos válidos.
            Para elecciones con varios cargos se utilizan rondas sucesivas.
        </p>

        <h3>Regla</h3>
        <ul>
            <li>Para cada cargo, el candidato debe alcanzar como mínimo el 50% + 1 de los votos válidos.</li>
            <li>Si hay varios cargos:
                <ul>
                    <li>Se elige un ganador en la ronda actual.</li>
                    <li>El ganador se elimina de la lista de candidatos.</li>
                    <li>Se realiza una nueva vuelta con los candidatos restantes.</li>
                </ul>
            </li>
            <li>El proceso continúa hasta completar todos los cargos o hasta que ningún candidato alcance la mayoría absoluta.</li>
        </ul>

        <h3>Uso recomendado</h3>
        <p>
            Elección de diáconos, ancianos, líderes espirituales y cualquier cargo donde se
            requiera un respaldo fuerte y claro de la congregación.
        </p>
    </section>

    <!-- Sistema 2 -->
    <section class="sistv-card" id="sistema-2">
        <div class="sistv-card-tag">La 2</div>
        <h2>Sistema 2 &middot; Mayoría adaptativa (umbral recalculado)</h2>
        <p class="sistv-intro">
            Este sistema ajusta la mayoría requerida en cada vuelta según el
            <strong>universo remanente</strong> después de retirar al ganador anterior.
            Se sigue exigiendo mayoría absoluta, pero el umbral se recalcula en cada ronda.
        </p>

        <h3>Regla</h3>
        <ul>
            <li>En la primera vuelta se exige 50% + 1 del total de votos válidos.</li>
            <li>En vueltas posteriores:
                <ul>
                    <li>Se recalcula el universo válido (remanente) tras retirar al ganador anterior.</li>
                    <li>Se vuelve a exigir mayoría absoluta sobre ese nuevo universo (mitad + 1 del remanente).</li>
                </ul>
            </li>
            <li>El proceso continúa hasta llenar todos los cargos posibles o hasta que ningún candidato alcance la mayoría adaptada.</li>
        </ul>

        <h3>Uso recomendado</h3>
        <p>
            Elecciones sensibles con varios cargos, donde se desea equidad progresiva y un
            nivel de respaldo proporcional al universo de votantes en cada ronda.
        </p>
    </section>

    <!-- Sistema 3 -->
    <section class="sistv-card" id="sistema-3">
        <div class="sistv-card-tag">La 3</div>
        <h2>Sistema 3 &middot; 50% + 1 para el primero + orden de votos</h2>
        <p class="sistv-intro">
            Este sistema combina una <strong>alta legitimidad</strong> para el primer candidato
            con <strong>rapidez y simplicidad</strong> para el resto de los cargos.
        </p>

        <h3>Regla</h3>
        <ul>
            <li>El primer ganador debe obtener 50% + 1 de los votos válidos.</li>
            <li>Los demás puestos se asignan por <strong>orden de cantidad de votos</strong>, sin exigir porcentajes adicionales.</li>
            <li>No se realizan nuevas rondas ni se recalculan umbrales.</li>
        </ul>

        <h3>Uso recomendado</h3>
        <p>
            Elección de múltiples cargos donde solo se requiere una mayoría fuerte para el
            primer puesto (por ejemplo, presidente) y los demás pueden definirse por
            cantidad de votos (vocales, miembros de comité, etc.).
        </p>
    </section>

    <!-- Sistema 4 -->
    <section class="sistv-card" id="sistema-4">
        <div class="sistv-card-tag">La 4</div>
        <h2>Sistema 4 &middot; TOP N (los más votados)</h2>
        <p class="sistv-intro">
            Sistema simple y directo para elegir múltiples candidatos sin porcentajes
            mínimos ni rondas adicionales.
        </p>

        <h3>Regla</h3>
        <ul>
            <li>Si hay <strong>N cargos disponibles</strong>, se eligen los <strong>N candidatos con más votos</strong>.</li>
            <li>No se exige mayoría absoluta ni mayorías especiales.</li>
            <li>No se realizan rondas adicionales: el resultado se define en una sola vuelta.</li>
        </ul>

        <h3>Uso recomendado</h3>
        <p>
            Equipos grandes, ministerios con muchos servidores, comités de apoyo y
            situaciones donde se valore rapidez y sencillez por encima de la mayoría absoluta.
        </p>
    </section>

    <!-- Sistema 5 -->
    <section class="sistv-card" id="sistema-5">
        <div class="sistv-card-tag">La 5</div>
        <h2>Sistema 5 &middot; Segunda vuelta (runoff entre los dos más votados)</h2>
        <p class="sistv-intro">
            Este sistema busca asegurar legitimidad sin recurrir a muchas rondas. Es
            similar al modelo de elección presidencial usado en varios países.
        </p>

        <h3>Regla</h3>
        <ul>
            <li>Primera vuelta:
                <ul>
                    <li>Si un candidato obtiene 50% + 1 de los votos válidos, se declara electo.</li>
                </ul>
            </li>
            <li>Si nadie alcanza la mayoría absoluta:
                <ul>
                    <li>Se realiza una <strong>segunda vuelta</strong> entre los dos candidatos más votados.</li>
                    <li>En la segunda vuelta, gana el candidato que obtenga más votos (mayoría simple).</li>
                </ul>
            </li>
        </ul>

        <h3>Uso recomendado</h3>
        <p>
            Elección de pastores, presidentes de juntas, tesoreros y cargos principales
            donde un ganador sin legitimidad clara podría generar división.
        </p>
    </section>

    <!-- Sistema 6 -->
    <section class="sistv-card" id="sistema-6">
        <div class="sistv-card-tag">La 6</div>
        <h2>Sistema 6 &middot; Mayoría especial (2/3 o 3/4)</h2>
        <p class="sistv-intro">
            Sistema pensado para decisiones de <strong>alta importancia</strong> que requieren un
            consenso superior al de una mayoría simple.
        </p>

        <h3>Regla</h3>
        <ul>
            <li>El candidato o propuesta solo se aprueba si alcanza una <strong>mayoría calificada</strong>, generalmente:
                <ul>
                    <li>⅔ (66.6%) de los votos válidos, o</li>
                    <li>¾ (75%) de los votos válidos.</li>
                </ul>
            </li>
            <li>El porcentaje exacto de mayoría especial se configura antes de iniciar la votación.</li>
            <li>Si no se alcanza el umbral definido, la elección o decisión se declara desierta
                o se procede según lo establecido en los estatutos de la iglesia u organización.</li>
        </ul>

        <h3>Uso recomendado</h3>
        <p>
            Cambios de estatutos, compra o venta de propiedades, decisiones doctrinales
            importantes y cualquier tema que requiera un consenso amplio y claro.
        </p>
    </section>

    <!-- Resumen -->
    <section class="sistv-card sistv-summary" id="resumen">
        <h2>Resumen de sistemas</h2>
        <div class="sistv-table-wrapper">
            <table class="sistv-table">
                <thead>
                    <tr>
                        <th>Sistema</th>
                        <th>Nombre</th>
                        <th>¿Exige 50%+1?</th>
                        <th>¿Usa rondas?</th>
                        <th>¿Sirve para varios cargos?</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>La 1</td>
                        <td>Mayoría absoluta secuencial</td>
                        <td>Sí</td>
                        <td>Sí</td>
                        <td>Sí</td>
                    </tr>
                    <tr>
                        <td>La 2</td>
                        <td>Mayoría adaptativa</td>
                        <td>Sí</td>
                        <td>Sí</td>
                        <td>Sí</td>
                    </tr>
                    <tr>
                        <td>La 3</td>
                        <td>50%+1 para el primero + orden de votos</td>
                        <td>Sí (solo el primero)</td>
                        <td>No</td>
                        <td>Sí</td>
                    </tr>
                    <tr>
                        <td>La 4</td>
                        <td>TOP N (más votados)</td>
                        <td>No</td>
                        <td>No</td>
                        <td>Sí</td>
                    </tr>
                    <tr>
                        <td>La 5</td>
                        <td>Segunda vuelta</td>
                        <td>Sí</td>
                        <td>Sí</td>
                        <td>Normalmente no (un cargo principal)</td>
                    </tr>
                    <tr>
                        <td>La 6</td>
                        <td>Mayoría especial (2/3, 3/4)</td>
                        <td>Sí (umbral superior)</td>
                        <td>No</td>
                        <td>Puede usarse para uno o varios, según estatutos</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p class="sistv-footnote">
            Nota: la elección del sistema para cada proceso de votación debe realizarse
            previamente por la junta y conforme a los estatutos de la iglesia.
        </p>
    </section>
</div>

<style>
    .sistv-wrapper {
        max-width: 900px;
        margin: 0 auto;
        padding: 16px;
    }

    .sistv-header {
        margin-bottom: 20px;
    }

    .sistv-header h1 {
        margin: 0 0 6px;
        font-size: 24px;
        font-weight: 700;
    }

    .sistv-header p {
        margin: 0;
        font-size: 14px;
        color: var(--text-muted, #6b7280);
    }

    .sistv-card {
        background: #ffffff;
        border-radius: 14px;
        padding: 16px 18px 14px;
        margin-bottom: 16px;
        border: 1px solid #e5e7eb;
        box-shadow: 0 6px 16px rgba(15, 23, 42, 0.06);
    }

    .sistv-card h2 {
        margin: 0 0 6px;
        font-size: 18px;
        font-weight: 600;
    }

    .sistv-card h3 {
        margin: 12px 0 4px;
        font-size: 15px;
        font-weight: 600;
    }

    .sistv-intro {
        margin: 0 0 6px;
        font-size: 14px;
        color: var(--text-muted, #6b7280);
    }

    .sistv-card p,
    .sistv-card ul {
        font-size: 14px;
        margin-top: 4px;
        margin-bottom: 4px;
    }

    .sistv-card ul {
        padding-left: 18px;
    }

    .sistv-card-tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        padding: 3px 8px;
        border-radius: 999px;
        background: rgba(25, 135, 84, 0.08);
        color: var(--primary, #198754);
        margin-bottom: 6px;
    }

    .sistv-summary h2 {
        margin-bottom: 10px;
    }

    .sistv-table-wrapper {
        width: 100%;
        overflow-x: auto;
        margin-bottom: 8px;
    }

    .sistv-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 13px;
    }

    .sistv-table th,
    .sistv-table td {
        border: 1px solid #e5e7eb;
        padding: 6px 8px;
        text-align: left;
    }

    .sistv-table th {
        background: #f3f4f6;
        font-weight: 600;
    }

    .sistv-footnote {
        margin: 4px 0 0;
        font-size: 12px;
        color: var(--text-muted, #6b7280);
    }

    @media (max-width: 640px) {
        .sistv-header h1 {
            font-size: 20px;
        }

        .sistv-card {
            padding: 14px 14px 12px;
        }

        .sistv-card h2 {
            font-size: 16px;
        }
    }
</style>
{% endblock %}
