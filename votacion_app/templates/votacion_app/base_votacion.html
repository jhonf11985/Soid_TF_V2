{% extends 'core/base_sidebar.html' %}
{% load static %}

{% block sidebar_icon %}how_to_vote{% endblock %}
{% block sidebar_role_label %}Votaciones{% endblock %}

{% block sidebar_menu %}
<nav class="sidebar-nav">

    <!-- Dashboard / Home -->
    <a href="{% url 'votacion:lista_votaciones' %}"
       class="sidebar-link {% if request.resolver_match.url_name == 'lista_votaciones' %}active{% endif %}">
        <span class="material-icons">dashboard</span>
        <span>Elecciones</span>
    </a>

    <!-- Sección: Gestión -->
    <div class="sidebar-section-title">Gestión</div>

    <a href="{% url 'votacion:crear_votacion' %}"
       class="sidebar-link {% if request.resolver_match.url_name == 'crear_votacion' %}active{% endif %}">
        <span class="material-icons">add_circle</span>
        <span>Nueva elección</span>
    </a>

    <!-- Sección: Candidatos -->
    <div class="sidebar-section-title">Candidatos</div>

    <a href="{% url 'votacion:lista_candidatos_listado' %}"
       class="sidebar-link {% if 'lista_candidatos' in request.resolver_match.url_name %}active{% endif %}">
        <span class="material-icons">groups</span>
        <span>Listas de candidatos</span>
    </a>

    <!-- Sección: Operación -->
    <div class="sidebar-section-title">Operación</div>

    <a href="{% url 'votacion:kiosko_ingreso_codigo' %}"
       class="sidebar-link {% if 'kiosko' in request.resolver_match.url_name %}active{% endif %}">
        <span class="material-icons">how_to_vote</span>
        <span>Kiosko de votación</span>
    </a>

    <!-- Sección: Pantallas -->
    <div class="sidebar-section-title">Pantallas</div>

    <a href="{% url 'votacion:pantalla_votacion_actual' %}"
       class="sidebar-link {% if request.resolver_match.url_name == 'pantalla_votacion_actual' %}active{% endif %}">
        <span class="material-icons">monitor</span>
        <span>Pantalla pública</span>
    </a>

    <!-- Sección: Ayuda -->
    <div class="sidebar-section-title">Ayuda</div>

    <a href="{% url 'votacion:documentacion_sistemas_votacion' %}"
       class="sidebar-link {% if request.resolver_match.url_name == 'documentacion_sistemas_votacion' %}active{% endif %}">
        <span class="material-icons">menu_book</span>
        <span>Sistemas de votación</span>
    </a>

</nav>
{% endblock %}

{% block page_content %}
    {% if messages %}
        <div class="messages-container">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    {% block votacion_content %}{% endblock %}
{% endblock %}
